#!/bin/csh -f

set output = map_GPS_stations.eps

# Small map
set x1 = -125
set x2 = -121
set y1 = 46.7
set y2 = 49
set Rop = $x1/$x2/$y1/$y2
set Jop = m-124/48/6.0

gmt pscoast -R$Rop -J$Jop -Ba1f0.5:"Longitude"::WESN -W0.1p -G255/255/224 -S224/255/255 -Lf-124/47.25/48/100 -Df -Na -Y5 -P -K >! $output

gmt psxy tremor.dat -R$Rop -J$Jop -Sc0.03 -Ggrey -O -K >> $output

cat << END >> mytext.dat
-124 47.1 km
END

gmt pstext mytext.dat -R$Rop -J$Jop -F+f15p -O -K >> $output

gmt psxy contour_40.txt -R$Rop -J$Jop -Wthicker,black -O -K >> $output

# Locations where we stack the GPS
cat << END >> locations.dat
-122.74294 47.20000
-122.73912 47.30000
-122.75036 47.40000
-122.77612 47.50000
-122.81591 47.60000
-122.86920 47.70000
-122.93549 47.80000
-123.01425 47.90000
-123.10498 48.00000
-123.20716 48.10000
-123.32028 48.20000
-123.44381 48.30000
-123.57726 48.40000
-123.72011 48.50000
-123.87183 48.60000
-124.03193 48.70000
END

gmt psxy locations.dat -R$Rop -J$Jop -St0.4 -Gred -O -K >> $output

# Locations of GPS stations
cat << END >> stations.dat
-122.2355 47.3803
-123.2197 47.4232
-122.7605 47.4975
-123.0226 46.7954
-122.7582 47.2187
-122.9085 46.9612
-122.8950 47.0447
-122.6094 47.3913
-122.3451 47.5236
-122.4711 47.2289
-122.2884 47.1058
-122.9121 46.9842
-122.9210 47.0193
-122.3201 47.4513
-122.2047 47.4746
-122.3385 47.6041
-122.3360 47.6013
-122.3355 47.6005
-122.3152 47.6823
-122.6670 47.7550
-122.1910 47.6140
-122.1831 47.5991
-122.1319 47.5540
-122.5691 47.8034
-122.3209 47.8028
-122.7759 48.0106
-122.1874 47.7087
-122.2817 47.8985
-123.1135 48.0914
-123.1020 48.0823
-123.4152 48.1014
-123.4874 48.3898 
-122.6856 48.2173
-123.4943 48.1168
-123.7057 47.8166
-123.4207 48.5667
-123.0076 48.5462
-123.0180 48.5352
-123.4511 48.6483
-124.1309 48.8203
-123.7041 48.9232
-124.4131 48.5443
END

gmt psxy stations.dat -R$Rop -J$Jop -St0.4 -Gblack -O -K >> $output

# Names of GPS stations
cat << END >> names.dat
-122.0355 47.3803 CSKI
-123.4197 47.4232 CUSH
-122.9605 47.4975 ELSR
-123.2226 46.7954 GRMD
-122.9582 47.2187 LNGB
-122.9085 46.8612 OLAR
-122.6950 47.0447 OLMP
-122.8094 47.3913 PRDY
-122.5451 47.5236 SMAI
-122.2711 47.2289 TACO
-122.0884 47.1058 THUN
-122.7121 46.9842 TUMW
-123.1210 47.0193 HGP1
-122.5201 47.4513 PSEA
-122.0047 47.4746 OYLR
-123.0385 47.6041 V081
-122.7860 47.6013 V096
-122.5355 47.6005 V102
-122.5152 47.6823 SSHO
-122.8670 47.7550 UFDA
-121.9910 47.6140 BCIT
-121.6831 47.5991 BLVU
-121.9319 47.5540 BSUM
-122.5691 47.9034 ESM1
-122.1209 47.8028 KRMT
-122.5759 48.0106 CHCM
-121.9874 47.7087 TRI1
-122.0817 47.8985 PFLD
-123.1135 47.9914 SEQM
-123.1020 48.1823 SQIM
-123.4152 48.0014 PNCL
-123.6874 48.3898  ALBH
-122.4856 48.2173 COUP
-123.6943 48.1168 PTAA
-123.9057 47.8166 SC03
-123.6207 48.5667 SACH
-123.0076 48.4462 SC02
-123.0180 48.6352 FRID
-123.6511 48.6483 PGC5
-124.3309 48.8203 CLRS
-123.9041 48.9232 SC04
-124.6131 48.5443 PTRF
END

gmt pstext names.dat -R$Rop -J$Jop -F+f12p -O >> $output

rm mytext.dat
rm stations.dat
rm names.dat