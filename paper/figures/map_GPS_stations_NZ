#!/bin/csh -f

set output = map_GPS_stations_NZ.eps

# Small map
set x1 = 176
set x2 = 179
set y1 = -40.4
set y2 = -37.4
set Rop = $x1/$x2/$y1/$y2
set Jop = m177.5/-38.9/6.0

gmt pscoast -R$Rop -J$Jop -Ba1f0.5::WESN -W0.1p -G255/255/224 -S224/255/255 -Lf178/-40/-38.9/100 -Df -Na -Y5 -P -K >! $output

cat << END >> mytext.dat
178 -40.1 km
END

gmt pstext mytext.dat -R$Rop -J$Jop -F+f15p -O -K >> $output

# Locations where we stack the GPS
cat << END >> locations.dat
176.6000 -39.7000
176.7000 -39.6000
176.8000 -39.5000
176.9000 -39.4000
177.0000 -39.3000
177.1000 -39.2000
177.2000 -39.1000
177.3000 -39.0000
177.4000 -38.9000
177.5000 -38.8000
177.6000 -38.7000
177.7000 -38.6000
177.8000 -38.5000
177.9000 -38.4000
178.0000 -38.3000
178.1000 -38.2000
178.2000 -38.1000
178.3000 -38.0000
END

gmt psxy locations.dat -R$Rop -J$Jop -St0.4 -Gred -O -K >> $output

# Locations of GPS stations
cat << END >> stations.dat
178.046002897 -38.411447554
178.291223348 -38.268212852
177.07635309 -39.65787439
178.211143529 -38.48796629
177.409873784 -38.939296943
177.88603492341 -38.63533692384
177.569366285 -38.686822718
176.72656394564 -39.61703293042
178.30335250666 -37.56104136669
176.87627798 -39.79375204
176.42277 -39.42404
176.37013505 -39.64315592
177.667786 -39.01610531
177.06976 -39.17226
176.93673005 -39.332320765
178.1291161 -38.6437598
177.5262032 -38.33384691
176.696548844 -39.444191609
176.028832116 -39.703375975
176.806622735 -39.09704167
176.200037533 -40.113323422
176.68067166 -40.10435506
178.0826 -37.89398
177.883276367 -38.92257263
176.86388246 -40.03308057
176.2004619 -39.91677899
177.697878483 -38.814193241
178.257359581 -38.07141492
177.086052871 -38.916179094
176.621161167 -39.747201862
177.677525303 -37.965002597
177.415398552 -38.495555956
176.49251215 -39.165523807
177.347494834 -38.779631498
178.005876841 -38.162424733
177.81144 -38.43747
177.234413566 -39.077210643
178.4087 -37.825
176.54300597 -39.89587961
176.44059928 -40.06420523
END

gmt psxy stations.dat -R$Rop -J$Jop -St0.4 -Gblack -O -K >> $output

# Names of GPS stations
cat << END >> names.dat
178.246002897 -38.411447554 AHTI
178.491223348 -38.268212852 ANAU
177.27635309 -39.65787439 CKID
178.411143529 -38.48796629 CNST
177.609873784 -38.939296943 FRTN
177.88603492341 -38.58533692384 GISB
177.369366285 -38.686822718 HANA
176.92656394564 -39.61703293042 HAST
178.50335250666 -37.56104136669 HIKB
177.07627798 -39.79375204 KAHU
176.42277 -39.32404 KAWK
176.37013505 -39.54315592 KERE
177.867786 -39.01610531 KOKO
177.26976 -39.17226 KUTA
177.13673005 -39.332320765 LEYL
178.3291161 -38.6437598 MAKO
177.3262032 -38.33384691 MATW
176.896548844 -39.444191609 MCNL
176.228832116 -39.703375975 MKNO
177.006622735 -39.09704167 NMAI
176.400037533 -40.113323422 NRSW
176.88067166 -40.10435506 OROA
178.2826 -37.89398 PAKI
178.083276367 -38.92257263 PARI
177.06388246 -40.03308057 PAWA
176.2004619 -39.86677899 PNUI
177.897878483 -38.814193241 PRTU
178.457359581 -38.07141492 PUKE
176.886052871 -38.916179094 RAHI
176.621161167 -39.697201862 RAKW
177.877525303 -37.965002597 RAUM
177.215398552 -38.495555956 RAWI
176.69251215 -39.165523807 RIPA
177.147494834 -38.779631498 SNST
177.805876841 -38.162424733 TAUW
177.61144 -38.43747 TKAR
177.434413566 -39.077210643 WAHU
178.6087 -37.825 WMAT
176.74300597 -39.89587961 WPAW
176.44059928 -40.01420523 WPUK
END

gmt pstext names.dat -R$Rop -J$Jop -F+f12p -O >> $output

rm mytext.dat
rm stations.dat
rm names.dat